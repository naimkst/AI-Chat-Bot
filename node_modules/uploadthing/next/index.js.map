{"version":3,"file":"index.js","names":["opts?: CreateBuilderOptions<TErrorShape>","opts: RouteHandlerOptions<TRouter>"],"sources":["../src/next.ts"],"sourcesContent":["import type { NextRequest } from \"next/server\";\nimport * as Effect from \"effect/Effect\";\n\nimport type { Json } from \"@uploadthing/shared\";\n\nimport { makeAdapterHandler } from \"./_internal/handler\";\nimport type { CreateBuilderOptions } from \"./_internal/upload-builder\";\nimport { createBuilder } from \"./_internal/upload-builder\";\nimport type { FileRouter, RouteHandlerOptions } from \"./types\";\n\nexport type { FileRouter };\nexport {\n  UTFiles,\n  /**\n   * This is an experimental feature.\n   * You need to be feature flagged on our backend to use this\n   */\n  UTRegion as experimental_UTRegion,\n} from \"./_internal/types\";\n\ntype AdapterArgs = {\n  req: NextRequest;\n};\n\nexport const createUploadthing = <TErrorShape extends Json>(\n  opts?: CreateBuilderOptions<TErrorShape>,\n) => createBuilder<AdapterArgs, TErrorShape>(opts);\n\nexport const createRouteHandler = <TRouter extends FileRouter>(\n  opts: RouteHandlerOptions<TRouter>,\n) => {\n  const handler = makeAdapterHandler<[NextRequest], AdapterArgs>(\n    (req) => Effect.succeed({ req }),\n    (req) => Effect.succeed(req),\n    opts,\n    \"nextjs-app\",\n  );\n  return { POST: handler, GET: handler };\n};\n"],"mappings":";;;;;;;AAwBA,MAAa,oBAAoB,CAC/BA,SACG,cAAwC,KAAK;AAElD,MAAa,qBAAqB,CAChCC,SACG;CACH,MAAM,UAAU,mBACd,CAAC,QAAQ,OAAO,QAAQ,EAAE,IAAK,EAAC,EAChC,CAAC,QAAQ,OAAO,QAAQ,IAAI,EAC5B,MACA,aACD;AACD,QAAO;EAAE,MAAM;EAAS,KAAK;CAAS;AACvC"}